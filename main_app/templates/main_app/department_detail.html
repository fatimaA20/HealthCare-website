{% extends 'base.html' %}
{% load static %}
<style>
  /* Custom styles for the department details */
  .department-title {
    font-size: 28px;
    text-align: center;
    margin-bottom: 20px;
    text-transform: uppercase;
    color: black; /* Change to your preferred color */
  }
  
  /* Style the square image */
  .square-image {
    width: 200px; /* Set the width to your preferred size */
    height: 200px; /* Set the height to the same value as the width */
    object-fit: cover; /* Maintain the aspect ratio and cover the entire container */
  }
</style>
{% block content %}
<div class="container mt-5">
  <h1 class="display-4 text-center department-title">Department Details</h1>

  <div class="accordion" id="departmentAccordion">
    <div class="card">
      <div class="card-header" id="departmentHeading">
        <h2 class="mb-0">
          <h2>{{ department.name }}</h2>
        </h2>
      </div>

      <div id="departmentCollapse" class="collapse show" aria-labelledby="departmentHeading" data-parent="#departmentAccordion">
        <div class="card-body">
          <div class="row">
            <div class="col-md-4">
              <img src="{% static department.image|cut:'main_app/static/' %}" alt="{{ department.name }}" class="img-fluid square-image" />

            </div>
            <div class="col-md-8">
              
              <p><strong>Brief:</strong> {{ department.brief }}</p>
              {% if user.user_role != 'admin' %}
                <a href="{% url 'appointments_create' department.id %}" class="btn btn-primary">Take Appointment</a>
              {% endif %}
            </div>
          </div>
        </div>

        {% if user.user_role == 'admin' %}
        <div class="card-footer text-right">
          <a href="{% url 'departments_update' department.id %}" class="btn btn-warning">Edit</a>
          <a href="{% url 'departments_delete' department.id %}" class="btn btn-danger">Delete</a>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
