{% extends 'base.html' %}
{% block content %}
{% load static %}

<style>
  /* Add custom styles for the doctor details title */
  .doctor-title {
    font-size: 28px;
    text-align: center;
    margin-bottom: 20px;
    text-transform: uppercase;
    color: black; /* Change to your preferred color */
  }

  /* Add a hover effect to the doctor title */
  {% comment %} .doctor-title:hover {
    text-decoration: underline;
  } {% endcomment %}
</style>

<div class="container mt-5">
  <h1 class="display-4 text-center doctor-title">Doctor Details</h1>

  <div class="accordion" id="doctorAccordion">
    <div class="card">
      <div class="card-header" id="doctorHeading">
        {% comment %} <h2 class="mb-0">
          <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#doctorCollapse" aria-expanded="true" aria-controls="doctorCollapse">
            {{ doctor.first_name }} {{ doctor.last_name }}
          </button>
        </h2> {% endcomment %}
      </div>

      <div id="doctorCollapse" class="collapse show" aria-labelledby="doctorHeading" data-parent="#doctorAccordion">
        <div class="card-body">
          <div class="row">
            <div class="col-md-4">
              <img src="{% static doctor.image|cut:'main_app/static' %}" alt="{{ doctor.first_name }} {{ doctor.last_name }}" class="img-fluid rounded-circle" />
            </div>
            <div class="col-md-8">
              <h2>{{ doctor.first_name }} {{ doctor.last_name }}</h2>
              <p><strong>Department:</strong> {{ doctor.department }}</p>
              <p><strong>Description:</strong> {{ doctor.description }}</p>
              {% if user.user_role != 'admin' %}
              {% if user.is_authenticated %}
              <a href="{% url 'appointments_create' doctor.department.id doctor.id %}" class="btn btn-primary">Take Appointment</a>
            {% else %}
              <a href="{% url 'login' %}" class="btn btn-primary">Log In to Take Appointment</a>
            {% endif %}
                {% comment %} <a href="{% url 'appointments_create' doctor.department.id doctor.id %}" class="btn btn-primary">Take Appointment</a> {% endcomment %}
              {% endif %}
            </div>
          </div>
        </div>

        {% if user.user_role == 'admin' %}
        <div class="card-footer text-right">
          <a href="{% url 'doctors_update' doctor.id %}" class="btn btn-warning">Edit</a>
          <a href="{% url 'doctors_delete' doctor.id %}" class="btn btn-danger">Delete</a>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% endblock %}
